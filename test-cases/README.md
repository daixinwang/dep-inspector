# 测试用例集合
本目录包含了用于测试前端项目依赖分析工具的所有测试用例。

## 测试用例列表

### 1. 测试用例 1：简单循环 (case1-simple-cycle)

**描述**：三个文件形成一个简单的循环依赖。

**结构**：
```
A → B → C → A
```

**预期结果**：
- 节点数：3
- 边数：3
- 循环数：1
- 循环路径：A → B → C → A

---

### 2. 测试用例 2：多个循环 (case2-multiple-cycles)

**描述**：四个文件形成两个独立的循环依赖。

**结构**：
```
循环 1: A ⇄ B
循环 2: C ⇄ D
```

**预期结果**：
- 节点数：4
- 边数：4
- 循环数：2
- 循环路径：
  - A → B → A
  - C → D → C

---

### 3. 测试用例 3：复杂循环 (case3-complex-cycle)

**描述**：四个文件形成一个复杂的循环依赖，包含多条路径。

**结构**：
```
A → B → C → D → A
A → C → D → A
```

**预期结果**：
- 节点数：4
- 边数：5
- 循环数：1 或 2
- 循环路径：A → B → C → D → A 或 A → C → D → A

---

### 4. 测试用例 4：无循环 (case4-no-cycle)

**描述**：三个文件形成一个有向无环图 (DAG)。

**结构**：
```
A → B → C
```

**预期结果**：
- 节点数：3
- 边数：2
- 循环数：0
- 循环路径：无

---

## 使用方法

### 方法 1：手动打包

进入每个测试用例目录，执行打包命令：

```bash
cd case1-simple-cycle
zip -r case1-simple-cycle.zip src/
```

### 方法 2：使用批量打包脚本

运行批量打包脚本：

```bash
./create-test-zips.sh
```

这将为所有测试用例创建 ZIP 文件。

### 方法 3：在应用中测试

1. 启动应用：`npm run dev`
2. 在浏览器中打开应用
3. 上传对应的 ZIP 文件
4. 查看分析结果

---

## 测试验证

### 验证清单

对于每个测试用例，验证以下内容：

- [ ] 节点数是否正确
- [ ] 边数是否正确
- [ ] 循环数是否正确
- [ ] 循环路径是否正确
- [ ] 可视化图表是否正确显示
- [ ] 统计数据是否准确

### 预期行为

#### 测试用例 1
- ✅ 应该检测到 1 个循环
- ✅ 循环应该包含 A、B、C 三个节点
- ✅ 所有节点应该标记为红色（循环依赖）

#### 测试用例 2
- ✅ 应该检测到 2 个独立的循环
- ✅ 第一个循环包含 A、B
- ✅ 第二个循环包含 C、D
- ✅ 两个循环之间没有连接

#### 测试用例 3
- ✅ 应该检测到至少 1 个循环
- ✅ 循环应该包含所有 4 个节点
- ✅ 应该显示多条依赖路径

#### 测试用例 4
- ✅ 应该检测到 0 个循环
- ✅ 所有节点应该标记为蓝色（正常节点）
- ✅ 应该显示"无循环依赖"的提示

---

## 测试结果记录

### 测试日期：[填写日期]

| 测试用例 | 节点数 | 边数 | 循环数 | 结果 | 备注 |
|---------|--------|------|--------|------|------|
| Case 1  | 3      | 3    | 1      | ✓    |      |
| Case 2  | 4      | 4    | 2      | ✓    |      |
| Case 3  | 4      | 5    | 1-2    | ✓    |      |
| Case 4  | 3      | 2    | 0      | ✓    |      |

---

## 扩展测试用例

如果需要创建更多测试用例，可以参考以下场景：

### 建议的额外测试用例

1. **大型循环**：包含 10+ 个文件的循环
2. **嵌套循环**：循环中包含子循环
3. **星型结构**：一个中心节点连接多个叶子节点
4. **深度依赖链**：A → B → C → D → E → F（无循环）
5. **混合场景**：同时包含循环和非循环部分

---

## 故障排查

### 常见问题

**Q: ZIP 文件上传后没有反应？**
- 检查 ZIP 文件是否包含 `src/` 目录
- 检查文件扩展名是否为 `.ts`、`.tsx`、`.js` 或 `.jsx`
- 检查浏览器控制台是否有错误信息

**Q: 检测到的循环数量不对？**
- 检查算法的去重逻辑
- 检查循环的规范化处理
- 查看详细的循环路径信息

**Q: 可视化图表显示不正确？**
- 检查节点和边的数据是否正确
- 检查 vis-network 的配置
- 尝试刷新页面或重新上传

---

## 贡献

如果你发现了 bug 或有改进建议，欢迎：
1. 创建新的测试用例
2. 提交 Issue
3. 提交 Pull Request

---

**最后更新**：2025年11月30日
